{"ast":null,"code":"var _jsxFileName = \"/home/chris/MyRepos/react-projects/tharsus-interface/src/App.js\";\nimport React from \"react\";\nimport Nav from \"./components/Nav\";\nimport DataDisplay from \"./components/DataDisplay\";\nimport \"./styles/App.css\";\nimport fastapi from './api/fastapi';\nimport moment from \"moment\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.onDateChange = async date => {\n      const response = await fastapi.get(\"/\".concat(date));\n      console.log('onDateChange response.data', response.data);\n      this.setState({\n        apiData: response.data,\n        userDate: date ? date : this.state.userDate // you were not setting this but you will need it for when setNavState runs\n\n      });\n    };\n\n    this.state = {\n      userDate: moment(Date()).format(\"YYYY-MM-DD\"),\n      apiData: {},\n      // this was set to a [] but it's data type is a actually an {}\n      navState: \"overview\"\n    };\n    this.setNavState = this.setNavState.bind(this);\n  }\n\n  setNavState(nav) {\n    // when triggering this from the UI it causes a state change, and a re-render\n    const btnArr = [\"overview\", \"movement\", \"distribution\"];\n    this.setState({\n      navState: btnArr[nav]\n    }); // this needs to be reset\n\n    this.onDateChange(this.state.userDate);\n  }\n\n  render() {\n    console.log(\"new state is \", this.state.apiData); // you should see this\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      getNav: this.setNavState,\n      getDate: this.onDateChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(DataDisplay, {\n      NavState: this.state.navState,\n      apiData: this.state.apiData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/chris/MyRepos/react-projects/tharsus-interface/src/App.js"],"names":["React","Nav","DataDisplay","fastapi","moment","App","Component","constructor","onDateChange","date","response","get","console","log","data","setState","apiData","userDate","state","Date","format","navState","setNavState","bind","nav","btnArr","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAO,kBAAP;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,MAAMC,GAAN,SAAkBL,KAAK,CAACM,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAoBdC,YApBc,GAoBC,MAAMC,IAAN,IAAc;AAC3B,YAAMC,QAAQ,GAAG,MAAMP,OAAO,CAACQ,GAAR,YAAgBF,IAAhB,EAAvB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CH,QAAQ,CAACI,IAAnD;AAEA,WAAKC,QAAL,CAAc;AACZC,QAAAA,OAAO,EAAEN,QAAQ,CAACI,IADN;AAEZG,QAAAA,QAAQ,EAAER,IAAI,GAAGA,IAAH,GAAU,KAAKS,KAAL,CAAWD,QAFvB,CAEgC;;AAFhC,OAAd;AAID,KA5Ba;;AAGZ,SAAKC,KAAL,GAAa;AACXD,MAAAA,QAAQ,EAAEb,MAAM,CAACe,IAAI,EAAL,CAAN,CAAeC,MAAf,CAAsB,YAAtB,CADC;AAEXJ,MAAAA,OAAO,EAAE,EAFE;AAEE;AACbK,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDD,EAAAA,WAAW,CAACE,GAAD,EAAM;AACf;AACA,UAAMC,MAAM,GAAG,CAAC,UAAD,EAAa,UAAb,EAAyB,cAAzB,CAAf;AACA,SAAKV,QAAL,CAAc;AAAEM,MAAAA,QAAQ,EAAEI,MAAM,CAACD,GAAD;AAAlB,KAAd,EAHe,CAKf;;AACA,SAAKhB,YAAL,CAAkB,KAAKU,KAAL,CAAWD,QAA7B;AACD;;AAYDS,EAAAA,MAAM,GAAG;AACPd,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4B,KAAKK,KAAL,CAAWF,OAAvC,EADO,CACyC;;AAChD,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,MAAM,EAAE,KAAKM,WAAlB;AAA+B,MAAA,OAAO,EAAE,KAAKd,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAE,KAAKU,KAAL,CAAWG,QAAlC;AAA4C,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWF,OAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAMD;;AAvC+B;;AA0ClC,eAAeX,GAAf","sourcesContent":["import React from \"react\";\nimport Nav from \"./components/Nav\";\nimport DataDisplay from \"./components/DataDisplay\";\nimport \"./styles/App.css\";\nimport fastapi from './api/fastapi'\nimport moment from \"moment\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      userDate: moment(Date()).format(\"YYYY-MM-DD\"),\n      apiData: {}, // this was set to a [] but it's data type is a actually an {}\n      navState: \"overview\"\n    };\n    this.setNavState = this.setNavState.bind(this);\n  }\n\n  setNavState(nav) {\n    // when triggering this from the UI it causes a state change, and a re-render\n    const btnArr = [\"overview\", \"movement\", \"distribution\"];\n    this.setState({ navState: btnArr[nav] });\n\n    // this needs to be reset\n    this.onDateChange(this.state.userDate)\n  }\n\n  onDateChange = async date => {\n    const response = await fastapi.get(`/${date}`)\n    console.log('onDateChange response.data', response.data)\n\n    this.setState({ \n      apiData: response.data, \n      userDate: date ? date : this.state.userDate // you were not setting this but you will need it for when setNavState runs\n    })\n  }\n\n  render() {\n    console.log(\"new state is \",this.state.apiData) // you should see this\n    return (\n      <div className=\"App\">\n        <Nav getNav={this.setNavState} getDate={this.onDateChange} />\n        <DataDisplay NavState={this.state.navState} apiData={this.state.apiData}/>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}